{"version":3,"sources":["RowStyles.js","App.js","reportWebVitals.js","index.js"],"names":["LOW","MEDIUM","HIGH","DANGER","RowStyles","when","row","sensor","value","style","backgroundColor","category","FilterComponent","filterText","onFilter","onClear","id","type","placeholder","onChange","onClick","App","useState","centers","setCenters","data","useEffect","fetch","then","response","json","forEach","center","item","address","date","dateString","found","match","year","month","day","hour","minute","dateStringToText","unit","lat","coordinates","lng","includes","getSensorFrom","map","push","columns","name","selector","sortable","cell","href","React","setFilterText","resetPaginationToggle","setResetPaginationToggle","filteredData","filter","toLowerCase","subHeaderComponentMemo","useMemo","e","target","className","title","theme","responsive","conditionalRowStyles","subHeader","subHeaderComponent","persistTableHead","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3f90723e.chunk.js","sourcesContent":["const LOW = \"#92D050\";\nconst MEDIUM = \"#FFFF00\";\nconst HIGH = \"#FFC000\";\nconst DANGER = \"#FF0000\";\nconst EXTREME = \"#8234ff\";\n\nconst RowStyles = [\n  {\n    when: row => row.sensor === 'Radiação Ultravioleta' && row.value < 6,\n    style: {\n      backgroundColor: LOW,\n    },\n  },\n  {\n    when: row => row.sensor === 'Radiação Ultravioleta' && row.value > 6,\n    style: {\n      backgroundColor: MEDIUM,\n    },\n  },\n  {\n    when: row => row.sensor === 'Radiação Ultravioleta' && row.value > 8,\n    style: {\n      backgroundColor: HIGH,\n    },\n  },\n  {\n    when: row => row.sensor === 'Radiação Ultravioleta' && row.value >= 11,\n    style: {\n      backgroundColor: DANGER,\n    },\n  },\n  {\n    when: row => row.sensor === 'Partículas ø < 2.5µm' && row.value < 20,\n    style: {\n      backgroundColor: LOW,\n    },\n  },\n  {\n    when: row => row.sensor === 'Partículas ø < 2.5µm' && row.value > 21,\n    style: {\n      backgroundColor: MEDIUM,\n    },\n  },\n  {\n    when: row => row.sensor === 'Partículas ø < 2.5µm' && row.value > 26,\n    style: {\n      backgroundColor: HIGH,\n    },\n  },\n  {\n    when: row => row.sensor === 'Partículas ø < 2.5µm' && row.value > 51,\n    style: {\n      backgroundColor: DANGER,\n    },\n  },\n  {\n    when: row => row.sensor === 'Partículas ø < 10µm' && row.value < 35,\n    style: {\n      backgroundColor: LOW,\n    },\n  },\n  {\n    when: row => row.sensor === 'Partículas ø < 10µm' && row.value > 101,\n    style: {\n      backgroundColor: 'red',\n    },\n  },\n  {\n    when: row => row.sensor === 'Ozono' && row.value < 101,\n    style: {\n      backgroundColor: LOW,\n    },\n  },\n  {\n    when: row => row.sensor === 'Ozono' && row.value > 101,\n    style: {\n      backgroundColor: MEDIUM,\n    },\n  },\n  {\n    when: row => row.sensor === 'Ozono' && row.value > 181,\n    style: {\n      backgroundColor: HIGH,\n    },\n  },\n  {\n    when: row => row.sensor === 'Ozono' && row.value > 241,\n    style: {\n      backgroundColor: DANGER,\n    },\n  },\n  {\n    when: row => row.sensor === 'Temperatura' && row.value < 34,\n    style: {\n      backgroundColor: LOW,\n    },\n  },\n  {\n    when: row => row.sensor === 'Ozono' && row.value < 37,\n    style: {\n      backgroundColor: MEDIUM,\n    },\n  },\n  {\n    when: row => row.sensor === 'Ozono' && row.value < 40,\n    style: {\n      backgroundColor: HIGH,\n    },\n  },\n  {\n    when: row => row.sensor === 'Ozono' && row.value > 40,\n    style: {\n      backgroundColor: DANGER,\n    },\n  },\n  {\n    when: row => row.category === 'Ruído' && row.value <= 54,\n    style: {\n      backgroundColor: LOW,\n    },\n  },\n  {\n    when: row => row.category === 'Ruído' && row.value > 55,\n    style: {\n      backgroundColor: MEDIUM,\n    },\n  },\n  {\n    when: row => row.category === 'Ruído' && row.value > 60,\n    style: {\n      backgroundColor: HIGH,\n    },\n  },\n  {\n    when: row => row.category === 'Ruído' && row.value > 65,\n    style: {\n      backgroundColor: DANGER,\n    },\n  }\n];\n\nexport default RowStyles;","import './App.css';\nimport React, {useState, useEffect } from 'react';\nimport DataTable, { createTheme } from 'react-data-table-component';\n\nimport conditionalRowStyles from './RowStyles';\n\n\nfunction getCategoryFromId(id) {\n  if (id.includes('QA')) return \"Qualidade do Ar\"\n  else if (id.includes('ME')) return \"Meteorologia\"\n  else if (id.includes('RU')) return \"Ruído\"\n  else if (id.includes('CT')) return \"??\"\n  else if (id.includes('ME00PA')) return \"Meteorologia - Pressão Atmosférica (média horária)\"\n  else if (id.includes('METEMP')) return \"Meteorologia - Temperatura\"\n  else return id;\n}\n\nfunction getSensorFrom(id) {\n  if (id.includes('PM25')) return \"Partículas ø < 2.5µm\"\n  else if (id.includes('PM10')) return \"Partículas ø < 10µm\"\n  else if (id.includes('00CO')) return \"Monóxido de Carbono\"\n  else if (id.includes('00HR')) return \"Humidade Relativa\"\n  else if (id.includes('00PA')) return \"Pressão Atmosférica\"\n  else if (id.includes('00UV')) return \"Radiação Ultravioleta\"\n  else if (id.includes('00VI')) return \"Vento - Intensidade\"\n  else if (id.includes('00VD')) return \"Vento - Direção\"\n  else if (id.includes('0SO2')) return \"Dióxido de Enxofre\"\n  else if (id.includes('00O3')) return \"Ozono\"\n  else if (id.includes('0NO2')) return \"Dióxido de Azoto\"\n  else if (id.includes('TEMP')) return \"Temperatura\"\n  else if (id.includes('00PP')) return \"Precipitação\"\n  else if (id.includes('LAEQ')) return \"Nível sonoro contínuo equivalente, em dB(A)\"\n  else if (id.includes('0TMD')) return \"Veículos (por hora)\"\n  else return id;\n}\n\nfunction dateStringToText(dateString) {\n  var re = /(\\d{4})(\\d{2})(\\d{2})(\\d{2})(\\d{2})/i;\n  var found = dateString.match(re);\n\n  var year = found[1];\n  var month = found[2];\n  var day = found[3];\n  var hour = found[4];\n  var minute = found[5];\n\n  return `${day}/${month}/${year} - ${hour}:${minute}`;\n}\n\nconst FilterComponent = ({ filterText, onFilter, onClear }) => (\n  <>\n    <input id=\"search\" type=\"text\" placeholder=\"Procurar\" aria-label=\"Search Input\" value={filterText} onChange={onFilter} />\n    <button type=\"button\" onClick={onClear}>X</button>\n  </>\n);\n\nfunction App() {\n  let [centers, setCenters] = useState([])\n  let data = [];\n\n  useEffect(() => {\n    fetch(\"https://api.allorigins.win/raw?url=http://opendata-cml.qart.pt:8080/lastmeasurements\")\n    .then(response => response.json())\n    .then(data => setCenters(data))\n  },[])\n\n\n  centers.forEach((center) => {\n    var item = {};\n    item.id = center.id;\n    item.address = center.address;\n    item.date = dateStringToText(center.date);\n    item.value = center.value == \"-99\" ? \"N/D\" : center.value;\n    item.unit = center.unit;\n    item.lat = center.coordinates.lat;\n    item.lng = center.coordinates.lng;\n    item.category = getCategoryFromId(center.id)\n    item.sensor = getSensorFrom(center.id);\n    item.map = `http://maps.google.com/maps?q=${item.lat},${item.lng}`;\n    data.push(item);\n  })\n\n  let columns =  [\n    {name: 'ID', selector: 'id', sortable: true},\n    {name: 'Data / Hora', selector: 'date', sortable: true},\n    {name: 'Categoria', selector: 'category', sortable: true},\n    {name: 'Sensor', selector: 'sensor', sortable: true},\n    {name: 'Estação', selector: 'address', sortable: true},\n    {name: 'Valor', selector: 'value', sortable: true},\n    {name: 'Unidade', selector: 'unit', sortable: true},\n    {name: 'Localização', selector: 'map', sortable: true, cell: (row) => <a href={row.map}>Mapa</a>},\n  ]\n\n  const [filterText, setFilterText] = React.useState('');\n  const [resetPaginationToggle, setResetPaginationToggle] = React.useState(false);\n  const filteredData = data.filter(item => item.address && item.address.toLowerCase().includes(filterText.toLowerCase()) ||\n  item.category.toLowerCase().includes(filterText.toLowerCase()) || \n  item.sensor.toLowerCase().includes(filterText.toLowerCase())\n  );\n\n  const subHeaderComponentMemo = React.useMemo(() => {\n    const handleClear = () => {\n      if (filterText) {\n        setResetPaginationToggle(!resetPaginationToggle);\n        setFilterText('');\n      }\n    };\n\n    return <FilterComponent onFilter={e => setFilterText(e.target.value)} onClear={handleClear} filterText={filterText} />;\n  }, [filterText, resetPaginationToggle]);\n\n  return (\n    <div className=\"App\">\n    <DataTable\n        title=\"Sensores de Qualidade do Ambiente - CML\"\n        columns={columns}\n        data={filteredData}\n        theme=\"solarized\"\n        responsive\n        conditionalRowStyles={conditionalRowStyles}\n        subHeader\n        subHeaderComponent={subHeaderComponentMemo}\n        persistTableHead\n      />\n      \n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}